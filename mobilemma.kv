#:kivy 1.4.0
#:import MMALexer mmalexer.MMALexer

<MobileMMAUI>:
    # ids as properties so that they can be used in python code
    buttons_key: buttons_key
    groove_list: groove_list
    tune_list: tune_list

    BoxLayout:
        orientation: "vertical"
        size: root.size
        pos: root.pos

        Accordion:
            AccordionItem:
                title: "Key"

                BoxLayout:
                    orientation: "vertical"

                    BoxLayout:
                        orientation: "horizontal"
                        size_hint_y: None
                        height: 40

                        Button:
                            text: "All"
                            on_press:
                                for note in buttons_key.children: note.state = 'down'

                        Button:
                            text: "None"
                            on_press:
                                for note in buttons_key.children: note.state = 'normal'

                    GridLayout:
                        id: buttons_key
                        cols: 4
                        # b musical symbol : â™­ = \u266D

                        ToggleButton:
                            text: "C"
                            state: 'down'

                        ToggleButton:
                            text: u"C# / Db"
                            state: 'down'

                        ToggleButton:
                            text: "D"
                            state: 'down'

                        ToggleButton:
                            text: "D# / Eb"
                            state: 'down'

                        ToggleButton:
                            text: "E"
                            state: 'down'

                        ToggleButton:
                            text: "F"
                            state: 'down'

                        ToggleButton:
                            text: "F# / Gb"
                            state: 'down'

                        ToggleButton:
                            text: "G"
                            state: 'down'

                        ToggleButton:
                            text: "G# / Ab"
                            state: 'down'

                        ToggleButton:
                            text: "A"
                            state: 'down'

                        ToggleButton:
                            text: "A# / Bb"
                            state: 'down'

                        ToggleButton:
                            text: "B"
                            state: 'down'

            AccordionItem:
                title: "Groove"

                BoxLayout:
                    orientation: "vertical"

                    BoxLayout:
                        orientation: "horizontal"
                        size_hint_y: None
                        height: 40

                        Button:
                            text: "All"
                            on_press:
                                for groove in groove_list.children: groove.state = 'down'

                        Button:
                            text: "None"
                            on_press:
                                for groove in groove_list.children: groove.state = 'normal'

                    ListView:
                        id: groove_list

            AccordionItem:
                title: "Filters"

                BoxLayout:
                    orientation: "vertical"

        ListView:
            id: tune_list

        BoxLayout:
            orientation: "horizontal"
            size_hint_y: None
            height: 40

            Button:
                text: "Play"
                on_release: root.play_pause(file_chooser.selection and file_chooser.selection[0] or "")

            Button:
                text: "Stop"
                on_release: root.stop()

            Button:
                text: "Edit"

            Button:
                text: "Configuration"
                on_release:
