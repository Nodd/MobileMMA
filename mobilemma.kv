#:kivy 1.4.0
#:import MMALexer mmalexer.MMALexer

<MobileMMAUI>:
    # ids as properties so that the can be used in python code
    file_edit: file_edit
    file_chooser: file_chooser
    label_name: label_name
    label_tempo: label_tempo
    label_key: label_key
    label_groove: label_groove

    BoxLayout:
        orientation: "vertical"
        size: root.size
        pos: root.pos

        FileChooserListView:
            id: file_chooser
            filters: ['*.mma', '*.mid', '*.midi']
            path: "./"
            on_selection: root.update_file_info(file_chooser.selection and file_chooser.selection[0] or "")

        BoxLayout:
            Label:
                id: label_name

            Label:
                id: label_tempo

            Label:
                id: label_key

            Label:
                id: label_groove

        CodeInput:
            id: file_edit
            lexer: MMALexer()

        BoxLayout:
            orientation: "horizontal"
            size_hint: (1, None)
            height: 40

            Button:
                text: "Play"
                on_release: root.play_pause(file_chooser.selection and file_chooser.selection[0] or "")

            Button:
                text: "Stop"
                on_release: root.stop()

            Button:
                text: "Edit"
